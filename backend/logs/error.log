{"level":"error","message":"Transaction failed creating conversation: No transactions support in neon-http driver","service":"ai-agent-backend","stack":"Error: No transactions support in neon-http driver\n    at NeonHttpSession.transaction (C:\\Users\\dell\\Documents\\GitHub\\Nebula\\backend\\node_modules\\src\\neon-http\\session.ts:253:9)\n    at NeonHttpDatabase.transaction (C:\\Users\\dell\\Documents\\GitHub\\Nebula\\backend\\node_modules\\src\\pg-core\\db.ts:640:23)\n    at chat (C:\\Users\\dell\\Documents\\GitHub\\Nebula\\backend\\src\\controllers\\chatController.ts:89:44)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-25 12:08:19"}
{"level":"error","message":"Chat endpoint error: Failed to create conversation: No transactions support in neon-http driver","service":"ai-agent-backend","stack":"Error: Failed to create conversation: No transactions support in neon-http driver\n    at chat (C:\\Users\\dell\\Documents\\GitHub\\Nebula\\backend\\src\\controllers\\chatController.ts:117:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-25 12:08:19"}
{"cause":{"code":"23502","column":"id","detail":"Failing row contains (null, Make a sign inn page, 007e5f68-3241-4f53-8a05-29ca6ea375e2, 81618c85-e626-4905-bf68-1b8e401e6e07, 2025-12-25 10:14:41.074, null).","file":"execMain.c","length":331,"line":"2032","name":"error","routine":"ExecConstraints","schema":"public","severity":"ERROR","table":"conversations"},"level":"error","message":"Transaction failed creating conversation: Failed query: insert into \"conversations\" (\"id\", \"title\", \"user_id\", \"agent_id\", \"created_at\", \"updated_at\") values (default, $1, $2, $3, default, default) returning \"id\", \"title\", \"user_id\", \"agent_id\", \"created_at\", \"updated_at\"\nparams: Make a sign inn page,007e5f68-3241-4f53-8a05-29ca6ea375e2,81618c85-e626-4905-bf68-1b8e401e6e07","params":["Make a sign inn page","007e5f68-3241-4f53-8a05-29ca6ea375e2","81618c85-e626-4905-bf68-1b8e401e6e07"],"query":"insert into \"conversations\" (\"id\", \"title\", \"user_id\", \"agent_id\", \"created_at\", \"updated_at\") values (default, $1, $2, $3, default, default) returning \"id\", \"title\", \"user_id\", \"agent_id\", \"created_at\", \"updated_at\"","service":"ai-agent-backend","stack":"Error: Failed query: insert into \"conversations\" (\"id\", \"title\", \"user_id\", \"agent_id\", \"created_at\", \"updated_at\") values (default, $1, $2, $3, default, default) returning \"id\", \"title\", \"user_id\", \"agent_id\", \"created_at\", \"updated_at\"\nparams: Make a sign inn page,007e5f68-3241-4f53-8a05-29ca6ea375e2,81618c85-e626-4905-bf68-1b8e401e6e07\n    at NodePgPreparedQuery.queryWithCache (C:\\Users\\dell\\Documents\\GitHub\\Nebula\\backend\\node_modules\\src\\pg-core\\session.ts:73:11)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\dell\\Documents\\GitHub\\Nebula\\backend\\node_modules\\src\\node-postgres\\session.ts:154:19\n    at async C:\\Users\\dell\\Documents\\GitHub\\Nebula\\backend\\src\\controllers\\chatController.ts:102:18\n    at async NodePgSession.transaction (C:\\Users\\dell\\Documents\\GitHub\\Nebula\\backend\\node_modules\\src\\node-postgres\\session.ts:259:19)\n    at async chat (C:\\Users\\dell\\Documents\\GitHub\\Nebula\\backend\\src\\controllers\\chatController.ts:89:35)","timestamp":"2025-12-25 12:14:40"}
{"level":"error","message":"Chat endpoint error: Failed to create conversation: Failed query: insert into \"conversations\" (\"id\", \"title\", \"user_id\", \"agent_id\", \"created_at\", \"updated_at\") values (default, $1, $2, $3, default, default) returning \"id\", \"title\", \"user_id\", \"agent_id\", \"created_at\", \"updated_at\"\nparams: Make a sign inn page,007e5f68-3241-4f53-8a05-29ca6ea375e2,81618c85-e626-4905-bf68-1b8e401e6e07","service":"ai-agent-backend","stack":"Error: Failed to create conversation: Failed query: insert into \"conversations\" (\"id\", \"title\", \"user_id\", \"agent_id\", \"created_at\", \"updated_at\") values (default, $1, $2, $3, default, default) returning \"id\", \"title\", \"user_id\", \"agent_id\", \"created_at\", \"updated_at\"\nparams: Make a sign inn page,007e5f68-3241-4f53-8a05-29ca6ea375e2,81618c85-e626-4905-bf68-1b8e401e6e07\n    at chat (C:\\Users\\dell\\Documents\\GitHub\\Nebula\\backend\\src\\controllers\\chatController.ts:117:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-25 12:14:40"}
